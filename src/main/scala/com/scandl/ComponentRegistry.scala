package com.scandl

import com.typesafe.config.ConfigFactory
import java.net.URLClassLoader

object ComponentRegistry extends ApiAccessComponent with StockServiceComponent {
 val conf = ConfigFactory.load 
 lazy val quandlAccessToken = if (conf.hasPath("quandl.accesstoken")) Some(conf.getString("quandl.accesstoken")) else None
 
 val registeredMetrics = Map(
     "INSIDER" -> FundamentalsAttribute("INSIDER", "Insider Holdings"),"CAPEX" -> FundamentalsAttribute("CAPEX", "Capital Expenditures"),"NET_MARG" -> FundamentalsAttribute("NET_MARG", "Net Margin"),"INV_CAP" -> FundamentalsAttribute("INV_CAP", "Invested Capital"),"P_S" -> FundamentalsAttribute("P_S", "Price to Sales Ratio"),"ROC" -> FundamentalsAttribute("ROC", "Return on Capital"),"STOCK_PX" -> FundamentalsAttribute("STOCK_PX", "Stock Price"),"MKT_DE" -> FundamentalsAttribute("MKT_DE", "Market Debt to Equity Ratio"),"CORREL" -> FundamentalsAttribute("CORREL", "Correlation with the Market"),"PE_FWD" -> FundamentalsAttribute("PE_FWD", "Forward PE Ratio"),"REV_GRO" -> FundamentalsAttribute("REV_GRO", "Previous Year Growth in Revenues"),"EBIT_1T" -> FundamentalsAttribute("EBIT_1T", "EBIT for Previous Period"),"DIV" -> FundamentalsAttribute("DIV", "Dividends"),"EPS_FWD" -> FundamentalsAttribute("EPS_FWD", "Forward Earnings Per Share"),"CHG_NCWC" -> FundamentalsAttribute("CHG_NCWC", "Change in Non-Cash Working Capital"),"CASH_FV" -> FundamentalsAttribute("CASH_FV", "Cash as Percentage of Firm Value"),"INST_HOLD" -> FundamentalsAttribute("INST_HOLD", "Institutional Holdings"),"EFF_TAX" -> FundamentalsAttribute("EFF_TAX", "Effective Tax Rate"),"CASH_ASSETS" -> FundamentalsAttribute("CASH_ASSETS", "Cash as Percentage of Total Assets"),"FIXED_TOT" -> FundamentalsAttribute("FIXED_TOT", "Ratio of Fixed Assets to Total Assets"),"BETA_VL" -> FundamentalsAttribute("BETA_VL", "Value Line Beta"),"BV_ASSETS" -> FundamentalsAttribute("BV_ASSETS", "Book Value of Assets"),"BV_EQTY" -> FundamentalsAttribute("BV_EQTY", "Book Value of Equity"),"FCFF" -> FundamentalsAttribute("FCFF", "Free Cash Flow to Firm"),"CASH_REV" -> FundamentalsAttribute("CASH_REV", "Cash as Percentage of Revenues"),"MKT_CAP" -> FundamentalsAttribute("MKT_CAP", "Market Capitalization"),"EFF_TAX_INC" -> FundamentalsAttribute("EFF_TAX_INC", "Effective Tax Rate on Income"),"EV_SALES" -> FundamentalsAttribute("EV_SALES", "EV To Sales Ratio"),"TOT_DEBT" -> FundamentalsAttribute("TOT_DEBT", "Total Debt"),"INTANG_TOT" -> FundamentalsAttribute("INTANG_TOT", "Ratio of Intangible Assets to Total Assets"),"PE_G" -> FundamentalsAttribute("PE_G", "PE to Growth Ratio"),"REINV_RATE" -> FundamentalsAttribute("REINV_RATE", "Reinvestment Rate"),"BOOK_DC" -> FundamentalsAttribute("BOOK_DC", "Book Debt to Capital Ratio"),"EPS_GRO_EXP" -> FundamentalsAttribute("EPS_GRO_EXP", "Expected Growth in Earnings Per Share"),"EV_EBIT" -> FundamentalsAttribute("EV_EBIT", "EV to EBIT Ratio"),"PE_CURR" -> FundamentalsAttribute("PE_CURR", "Current PE Ratio"),"MKT_DC" -> FundamentalsAttribute("MKT_DC", "Market Debt to Capital Ratio"),"NCWC_REV" -> FundamentalsAttribute("NCWC_REV", "Non-Cash Working Capital as Percentage of Revenues"),"REV_12M" -> FundamentalsAttribute("REV_12M", "Trailing 12-month Revenues"),"REV_GRO_EXP" -> FundamentalsAttribute("REV_GRO_EXP", "Expected Growth in Revenues"),"REV_TRAIL" -> FundamentalsAttribute("REV_TRAIL", "Trailing Revenues"),"ROE" -> FundamentalsAttribute("ROE", "Return on Equity"),"EV_EBITDA" -> FundamentalsAttribute("EV_EBITDA", "EV to EBITDA Ratio"),"EBITDA" -> FundamentalsAttribute("EBITDA", "Earnings Before Interest Taxes Depreciation and Amortization"),"BETA" -> FundamentalsAttribute("BETA", "3-Year Regression Beta"),"DEPREC" -> FundamentalsAttribute("DEPREC", "Depreciation"),"EV_SALESTR" -> FundamentalsAttribute("EV_SALESTR", "EV to Trailing Sales Ratio"),"EPS_GRO" -> FundamentalsAttribute("EPS_GRO", "Growth in Earnings Per Share"),"P_BV" -> FundamentalsAttribute("P_BV", "Price to Book Value Ratio"),"NET_INC_TRAIL" -> FundamentalsAttribute("NET_INC_TRAIL", "Trailing Net Income"),"PE_TRAIL" -> FundamentalsAttribute("PE_TRAIL", "Trailing PE Ratio"),"OP_MARG" -> FundamentalsAttribute("OP_MARG", "Pre-Tax Operating Margin"),"FIRM_VAL" -> FundamentalsAttribute("FIRM_VAL", "Firm Value"),"STDEV" -> FundamentalsAttribute("STDEV", "3-year Standard Deviation of Stock Price"),"TRAD_VOL" -> FundamentalsAttribute("TRAD_VOL", "Trading Volume"),"CASH" -> FundamentalsAttribute("CASH", "Cash"),"DIV_YLD" -> FundamentalsAttribute("DIV_YLD", "Dividend Yield"),"REV_LAST" -> FundamentalsAttribute("REV_LAST", "Revenues"),"NET_INC" -> FundamentalsAttribute("NET_INC", "Net Income"),"EV_BV" -> FundamentalsAttribute("EV_BV", "EV to Book Value Ratio"),"REINV" -> FundamentalsAttribute("REINV", "Reinvestment Amount"),"EBIT" -> FundamentalsAttribute("EBIT", "Earnings Before Interest and Taxes"),"EV_CAP" -> FundamentalsAttribute("EV_CAP", "EV to Invested Capital Ratio"),"PAYOUT" -> FundamentalsAttribute("PAYOUT", "Payout Ratio"),"HILO" -> FundamentalsAttribute("HILO", "Hi-Lo Risk"),"SGA" -> FundamentalsAttribute("SGA", "Sales General and Administration Expenses"),"EV" -> FundamentalsAttribute("EV", "Enterprise Value"),"NCWC" -> FundamentalsAttribute("NCWC", "Non-Cash Working Capital"),
     "PRICE" -> PriceAttribute("Price"))
 
 
 val apiAccess = new ApiAccess(quandlAccessToken)
 val stockService = new StockService(registeredMetrics)
}